DROP TABLE IF EXISTS "AUTHORS_2_BOOK" CASCADE;

CREATE TABLE "AUTHORS_2_BOOK"
(
    "id"            BIGSERIAL NOT NULL,
    "bookId"        BIGINT NOT NULL,
    "authorId"      BIGINT NOT NULL,
    "createdAt"     TIMESTAMP WITH TIME ZONE NOT NULL
);

ALTER TABLE "AUTHORS_2_BOOK" ADD CONSTRAINT "PK_AUTHORS2BOOKS" PRIMARY KEY (id);

ALTER TABLE "AUTHORS_2_BOOK" ADD CONSTRAINT "FK_AUTHORS_2_BOOK_BOOKS"
    FOREIGN KEY ("bookId") REFERENCES "BOOKS" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE "AUTHORS_2_BOOK" ADD CONSTRAINT "FK_AUTHORS_2_BOOK_AUTHORS"
    FOREIGN KEY ("authorId") REFERENCES "AUTHORS" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION;

